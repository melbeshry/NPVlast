sap.ui.define(["sap/ui/core/UIComponent","project1/model/models","sap/ui/model/json/JSONModel"],(e,s,n)=>{"use strict";return e.extend("project1.Component",{metadata:{manifest:"json",interfaces:["sap.ui.core.IAsyncContentCreation"]},init(){e.prototype.init.apply(this,arguments);this.setModel(s.createDeviceModel(),"device");let o={id:"unknown",roles:[]};const t=window.location.pathname.split("/")[1];const i=`/${t}/user-api/currentUser`;fetch(i,{credentials:"include"}).then(async e=>{if(!e.ok){throw new Error(`HTTP error ${e.status}`)}return e.json()}).then(e=>{const s=[];if(e.scopes&&Array.isArray(e.scopes)){if(e.scopes.some(e=>e.includes("ConfigAdmin")))s.push("ConfigAdmin");if(e.scopes.some(e=>e.includes("SalesAdmin")))s.push("SalesAdmin")}o={id:e.email||e.id||"unknown",roles:s,firstname:e.firstname,lastname:e.lastname,displayName:e.displayName};console.log("User Info loaded: ",o);const t=new n(o);this.setModel(t,"user")}).catch(e=>{console.error("Error fetching user: ",e);const s=this.getDefaultEnv();if(s&&s.USER){o=s.USER}const t=new n(o);this.setModel(t,"user")});o={id:"moataz.elbeshry@solex-tech.com",roles:["ConfigAdmin","SalesAdmin"]};this.getRouter().initialize()},getDefaultEnv:function(){return window.__CAP_DEFAULT_ENV__||{}}})});
//# sourceMappingURL=Component.js.map