{"version":3,"file":"Sales.controller.js","names":["sap","ui","define","Controller","JSONModel","Column","Text","Input","MessageToast","extend","onInit","oUrlParams","URLSearchParams","window","location","search","discountRate","get","unitNpv","pricePlan","leadId","oSalesModel","tableData","futureValue","npv","this","getView","setModel","oODataModel","getOwnerComponent","getModel","console","error","show","that","_loadDataFromOData","then","oConfigData","log","frequency","iBaseRows","_getRowCount","iRows","aTableData","_initializeTableData","parseInt","getProperty","replace","setProperty","_oConfigData","_generateTable","catch","oError","_buildTableWithDefault","byId","onPricePlanChange","oEvent","sPricePlan","getParameter","getKey","oView","oTable","removeAllColumns","iYears","addColumn","header","text","i","bindItems","path","factory","sId","oContext","m","ColumnListItem","cells","_createCells","Promise","resolve","reject","bindList","undefined","$expand","requestContexts","aContexts","length","oConfig","getObject","JSON","stringify","periods","results","bind","sFrequency","warn","aData","periodLabels","_getPeriodLabels","oRow","period","j","push","baseLabels","Array","from","_","concat","slice","iColumns","aCells","sPeriod","bVisible","value","type","placeholder","visible","onSimulate","oData","getData","fDiscountRate","parseFloat","fUnitNpv","iPeriodsPerYear","fDownpayment","fContractPayment","forEach","col0","iTotalPeriods","aE","year","iRow","fBaseValue","iPeriodIndex","basePercentage","discountFactor","fNpv","fFutureValue","fNpvDisplay","toFixed","fFutureValueDisplay"],"sources":["Sales-dbg.controller.js"],"mappings":"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","ignoreList":[]}